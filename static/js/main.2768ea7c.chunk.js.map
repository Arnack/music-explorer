{"version":3,"sources":["services/api/releaseAPI.ts","store/searchStore/searchStore.ts","components/splitList/listItem/ListItem.tsx","components/loader/Loader.tsx","components/splitList/releaseDescription/ReleaseDescription.tsx","components/splitList/SplitList.tsx","components/contentLists/Releases.tsx","components/searchbox/Searchbox.tsx","containers/layout/Layout.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ReleaseAPI","getReleaseDescription","releaseId","a","axios","get","getReleases","searchData","release","page","process","updateSearchText","createEvent","fetchReleasesFx","createEffect","searchStore","createStore","pagination","pages","per_page","items","searchText","results","on","doneData","state","result","data","payload","ListItem","selected","handleSelect","className","onClick","id","src","thumb","alt","title","year","Array","isArray","genre","join","label","loadingIcon","LoadingOutlined","style","fontSize","spin","Loader","indicator","ReleaseDescription","goBackCallback","useState","description","setDescription","isLoading","setIsLoading","useEffect","then","catch","err","console","error","finally","ArrowLeftOutlined","notes","artists","map","artist","name","country","labels","genres","styles","formats","format","videos","video","videoId","URL","uri","searchParams","includes","width","frameBorder","allow","allowFullScreen","SplitList","releases","useStore","paginationInfo","selectedReleaseId","setSelectedReleaseId","isListMobHidden","setIsListMobHidden","handleReleaseSelect","current","defaultPageSize","total","hideOnSinglePage","size","responsive","onChange","newPage","showSizeChanger","Releases","pending","length","Searchbox","placeholder","e","target","value","onPressEnter","IndexPage","padding","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2768ea7c.chunk.js","sourcesContent":["import axios from \"axios\";\nconst token = process.env.REACT_APP_TOKEN;\n\nexport class ReleaseAPI {\n    static getReleaseDescription = async (releaseId: number | string) => {\n        return await axios\n            .get(`https://api.discogs.com/releases/${releaseId}`)\n    }\n\n    static getReleases = async (searchData: {release: string, page: number | string }) => {\n        const { release, page } = searchData;\n        return await axios\n            .get(`https://api.discogs.com/database/search?token=${token}&page=${page}&per_page=10&type=release&q=${release}`)\n    }\n}\n","import {useEvent} from \"effector-react\";\nimport {createEffect, createEvent, createStore} from \"effector\";\nimport {ReleaseAPI} from \"../../services/api/releaseAPI\";\n\nexport const updateSearchText = createEvent<string>(\"search text updated\");\nexport const fetchReleasesFx = createEffect(ReleaseAPI.getReleases)\n\nexport const searchStore = createStore({\n    pagination: {\n        page: 1,\n        pages: 0,\n        per_page: 5,\n        items: 0\n    },\n    searchText: \"\",\n    results: []\n})\n    .on(fetchReleasesFx.doneData, (state, result) => {\n        return {...result.data, searchText: \"\"}\n    })\n    .on(updateSearchText, (state, payload) => {\n        return {...state, searchText: payload}\n    })\n","import React, {FC} from \"react\";\nimport {IRelease} from \"../../../model/release/Release\";\nimport \"./ListItem.scss\";\n\ninterface IProps {\n    release: IRelease;\n    selected?: boolean;\n    handleSelect: (id: number) => void;\n}\n\nexport const ListItem: FC<IProps> = ({ release, selected, handleSelect }) => {\n    return <div className={`list-item ${selected ? 'selected' : ''}`}\n                onClick={() => handleSelect(release.id)}>\n        <div className=\"thumb-container\">\n            <img className=\"release-thumb\" src={release.thumb ? release.thumb : \"\"} alt=\"release thumb\" />\n        </div>\n        <div className=\"content-container\">\n            <div className=\"heading\">\n                <span className=\"title\">\n                    {release.title}\n                </span>\n                <span className=\"year\">\n                    {release.year}\n                </span>\n            </div>\n\n            <div className=\"genres\">\n                {\n                    Array.isArray(release.genre) ? release.genre.join(\", \") : release.genre\n                }\n            </div>\n\n            <div className=\"labels\">\n                {\n                    Array.isArray(release.label) ? release.label.join(\", \") : release.label\n                }\n            </div>\n        </div>\n    </div>\n}","import React, {FC} from \"react\";\nimport {Spin} from \"antd\";\nimport { LoadingOutlined } from '@ant-design/icons';\n\nconst loadingIcon = <LoadingOutlined style={{ fontSize: 40 }} spin />;\n\nexport const Loader: FC = () => {\n    return <div>\n        <Spin indicator={loadingIcon} />\n        <span> Loading...</span>\n    </div>\n}","import React, {FC, useEffect, useState} from \"react\";\nimport {IReleaseDescription} from \"../../../model/release/Release\";\nimport {ReleaseAPI} from \"../../../services/api/releaseAPI\";\nimport { ArrowLeftOutlined } from '@ant-design/icons';\nimport {Loader} from \"../../loader/Loader\";\nimport \"./ReleaseDescription.scss\";\n\ninterface IProps {\n    releaseId: number | null;\n    goBackCallback: (arg: boolean) => void;\n}\n\nexport const ReleaseDescription: FC<IProps> = ({releaseId, goBackCallback}) => {\n    const [description, setDescription] = useState<IReleaseDescription | null>(null);\n    const [isLoading, setIsLoading] = useState(false);\n\n    useEffect(() => {\n        if (releaseId) {\n            setIsLoading(true);\n            ReleaseAPI.getReleaseDescription(releaseId)\n                .then(result => {\n                    setDescription(result.data)\n                })\n                .catch(err => {\n                    console.error(\"Unable to fetch release description\", err)\n                })\n                .finally(() => {\n                    setIsLoading(false)\n                })\n        }\n    }, [releaseId])\n\n    if (!releaseId) {\n        return <div>\n            <h2>Select an item to see a description</h2>\n            <p>Nothing is selected</p>\n        </div>\n    }\n\n    if (isLoading) {\n        return <Loader/>\n    }\n\n    return <div className={\"release-description-container\"}>\n        <h3>{description?.title}</h3>\n\n        <div className=\"go-back\"\n             onClick={() => goBackCallback(false)}\n        >\n            <ArrowLeftOutlined />\n        </div>\n        {description?.notes && <div className=\"notes\">\n            {description?.notes}\n        </div>}\n        <table>\n            <tbody>\n            <tr>\n                <th>Artists:</th>\n                <td>{description?.artists?.map(artist => artist.name).join(\", \")}</td>\n            </tr>\n            <tr>\n                <th>Country:</th>\n                <td>{description?.country}</td>\n            </tr>\n            <tr>\n                <th>Labels:</th>\n                <td>{description?.labels?.map(label => label.name ? label.name : label)\n                    .join(\", \")}</td>\n            </tr>\n            <tr>\n                <th>Genres:</th>\n                <td>{description?.genres?.map(genre => genre.name ? genre.name : genre)\n                    .join(\", \")}</td>\n            </tr>\n            <tr>\n                <th>Styles:</th>\n                <td>{description?.styles?.map(style => style.name ? style.name : style)\n                    .join(\", \")}</td>\n            </tr>\n            <tr>\n                <th>Formats:</th>\n                <td>{description?.formats?.map(format => format.name ? format.name : format)\n                    .join(\", \")}</td>\n            </tr>\n            <tr>\n                <th>Release Date:</th>\n                <td>{description?.year}</td>\n            </tr>\n            </tbody>\n        </table>\n        {\n            description?.videos?.map((video) => {\n\n                const url = new URL(video.uri);\n                const videoId = url.searchParams.get(\"v\");\n\n                if (video.uri.includes('youtube'))\n                    return <iframe width=\"300\" src={`https://www.youtube.com/embed/${videoId}`}\n                                   title={video.title} frameBorder=\"0\"\n                                   allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                                   allowFullScreen/>\n            })\n        }\n    </div>\n}","import React, {FC, useState} from \"react\";\nimport {useStore} from \"effector-react\";\nimport {fetchReleasesFx, searchStore} from \"../../store/searchStore/searchStore\";\nimport {ListItem} from \"./listItem/ListItem\";\nimport {IRelease} from \"../../model/release/Release\";\nimport {ReleaseDescription} from \"./releaseDescription/ReleaseDescription\";\nimport {Pagination} from 'antd';\nimport {IPagination} from \"../../model/pagination/Pagination\";\nimport './splitList.scss';\n\nexport const SplitList: FC = () => {\n    const releases: IRelease[] = useStore(searchStore).results;\n    const searchText: string = useStore(searchStore).searchText;\n    const paginationInfo: IPagination = useStore(searchStore).pagination;\n    const [selectedReleaseId, setSelectedReleaseId] = useState<number | null>(null);\n    const [isListMobHidden, setIsListMobHidden] = useState(false);\n\n    const handlePaginate = (newPage: number) => {\n        fetchReleasesFx({release: searchText, page: newPage});\n    }\n\n    const handleReleaseSelect = (releaseId: number) => {\n        setSelectedReleaseId(releaseId);\n        setIsListMobHidden(true);\n    }\n\n    return <div className={\"split-list-wrapper\"}>\n        <div className={`list-container ${isListMobHidden ? 'mobileHidden' : ''}`}>\n            {releases.map((release) =>\n                <ListItem release={release}\n                          handleSelect={handleReleaseSelect}\n                          selected={release.id === selectedReleaseId}/>)}\n\n            <div className=\"pagination-wrapper\">\n                <Pagination current={paginationInfo.page}\n                            defaultPageSize={paginationInfo.per_page}\n                            total={paginationInfo.pages}\n                            hideOnSinglePage={true}\n                            size={\"small\"}\n                            responsive={true}\n                            onChange={handlePaginate}\n                            showSizeChanger={false}\n                />\n            </div>\n        </div>\n\n        <div className={`item-details ${isListMobHidden ? '' : 'mobileHidden'}`}>\n            <ReleaseDescription goBackCallback={setIsListMobHidden} releaseId={selectedReleaseId}/>\n        </div>\n    </div>\n}","import React, {FC} from \"react\";\nimport {useStore} from \"effector-react\";\nimport {fetchReleasesFx, searchStore} from \"../../store/searchStore/searchStore\";\nimport {Searchbox} from \"../searchbox/Searchbox\";\nimport {SplitList} from \"../splitList/SplitList\";\nimport {Loader} from \"../loader/Loader\";\n\ninterface IProps {\n}\n\nexport const Releases: FC<IProps> = ({}) => {\n    const releases = useStore(searchStore).results;\n    const pending = useStore(fetchReleasesFx.pending);\n\n    if (pending) {\n        return <Loader />\n    }\n\n    if (!releases || releases.length === 0) {\n        return <div>\n            <h1>Welcome to music explorer</h1>\n            <p>There is nothing to display now, but you can search for releases</p>\n        </div>\n    }\n\n    return <div>\n        <SplitList />\n    </div>\n}","import React, {FC} from \"react\";\nimport {Input} from \"antd\";\nimport {fetchReleasesFx, searchStore, updateSearchText} from \"../../store/searchStore/searchStore\";\nimport {useStore} from \"effector-react\";\n\nexport const Searchbox: FC = () => {\n    const { searchText } = useStore(searchStore)\n    return <>\n            <Input placeholder=\"Search\"\n                   onChange={(e) => updateSearchText(e.target.value)}\n                   onPressEnter={() => fetchReleasesFx({release: searchText, page: 1})}\n            />\n        </>\n}","import React, {FC} from \"react\";\nimport 'antd/dist/antd.css';\nimport './Layout.scss';\nimport {Layout} from 'antd';\nimport {Content, Header} from \"antd/es/layout/layout\";\nimport {Releases} from \"../../components/contentLists/Releases\";\nimport {Searchbox} from \"../../components/searchbox/Searchbox\";\n\nexport const IndexPage: FC = () => {\n    return <Layout className=\"layout\">\n        <Header>\n            <div className=\"logo\">\n                Explore Music\n            </div>\n            <div className=\"logo searchbox\">\n                <Searchbox/>\n            </div>\n        </Header>\n        <Content style={{padding: '0 50px'}}>\n            <div className=\"site-layout-content\">\n                <Releases/>\n            </div>\n        </Content>\n    </Layout>\n}","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport { IndexPage } from \"./containers/layout/Layout\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <IndexPage />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}